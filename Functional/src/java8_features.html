<script src="java8_features.js"></script>
<link rel="stylesheet" type="text/css" href="java8_features.css">
<section onClick="showcontent(this);">/// This is for FlatMap
<div><br/>public class FlatMap {<br/>	public static void main(String[] args) {<br/>		/*<br/>		 * Given two lists of numbers, how would you return all pairs of numbers? For<br/>		 * example, given a list [1, 2, 3] and a list [3, 4] you should return [(1, 3),<br/>		 * (1, 4), (2, 3), (2, 4), (3, 3), (3, 4)]<br/>		 */<br/>		List<Integer> numbers1 = Arrays.asList(1, 2, 3);<br/>		List<Integer> numbers2 = Arrays.asList(3, 4);<br/>		System.out.println(numbers1.stream()<br/>				.flatMap(i -> numbers2.stream()<br/>						.map(j -> "[" + i + "," + j + "]"))<br/>				.collect(toList()));<br/>		// ["Hello", "World"] you?d like to return the list ["H", "e", "l", "o","W",<br/>		// "r", "d"]<br/>		String[] words = { "hello", "world" };<br/>		System.out.println(Arrays.stream(words)<br/>				.map(e -> e.split(""))<br/>				.flatMap(Arrays::stream)<br/>				.collect(toList()));<br/>		// Having a 2 dimentional list of objects e.g. List<List<Integer>> create a<br/>		// single stream<br/>		List<List<Integer>> twoDimentionalList = Arrays.asList(Arrays.asList(1, 2, 3), Arrays.asList(4, 5, 6));<br/>		System.out.println(twoDimentionalList.stream()<br/>				.flatMap(Collection::stream)<br/>				.collect(toList()));<br/>		// Stream.of always gives a stream of whatever is passed as argument, e.g. below is a stream of arrays/lists<br/>		List<String> x = Arrays.asList("hello", "world");<br/>		System.out.println(Stream.of(x)<br/>				.map(e -> e + "!")<br/>				.collect(toList()));<br/>		System.out.println(Stream.of("hello", "world")<br/>				.map(e -> e + "!")<br/>				.collect(toList()));<br/>		System.out.println(x.stream()<br/>				.map(e -> e + "!")<br/>				.collect(toList()));<br/>		List<Integer> y = Arrays.asList(1, 3);<br/>		System.out.println(Stream.of(1, 2, 3)<br/>				.collect(toList()));<br/>		System.out.println(y.stream()<br/>				.collect(toList()));<br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// Grouping Version 2 Multi Level
<div><br/>class Dress {<br/>	String size;<br/>	String color;<br/>	String name;<br/>	int price;<br/>	public Dress(String size, String color, String name, int price) {<br/>		super();<br/>		this.size = size;<br/>		this.color = color;<br/>		this.name = name;<br/>		this.price = price;<br/>	}<br/>	public String getSize() {<br/>		return size;<br/>	}<br/>	public void setSize(String size) {<br/>		this.size = size;<br/>	}<br/>	public String getColor() {<br/>		return color;<br/>	}<br/>	public void setColor(String color) {<br/>		this.color = color;<br/>	}<br/>	public String getName() {<br/>		return name;<br/>	}<br/>	public int getPrice() {<br/>		return price;<br/>	}<br/>	public void setPrice(int price) {<br/>		this.price = price;<br/>	}<br/>	public void setName(String name) {<br/>		this.name = name;<br/>	}<br/>	@Override<br/>	public String toString() {<br/>		return "Dress [size=" + size + ", color=" + color + ", name=" + name + ", price=" + price + "]";<br/>	}<br/>}<br/>public class MultiLevelGrouping {<br/>	public static void main(String[] args) {<br/>		List<Dress> dresses = Arrays.asList(new Dress("S", "RED", "Shirt", 10), new Dress("S", "RED", "Pant", 20),<br/>				new Dress("M", "RED", "Shirt", 30), new Dress("L", "BLUE", "Shirt", 40),<br/>				new Dress("XL", "BLUE", "Shirt", 50), new Dress("XL", "BLUE", "Pant", 60),<br/>				new Dress("XXL", "GREEN", "Sweater", 70));<br/>		// Second argument in any grouping can be any collector e.g. mapping, counting,<br/>		// additional grouping. It could also be a toList()/toSet() like<br/>		// groupingBy(Dress::getColor) means groupingBy(Dress::getColor, toList())<br/>		// Below will generate a two dimensional grid color vs size<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, groupingBy(Dress::getSize))));<br/>		// Using mapping to get only a particular attribute<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, groupingBy(Dress::getSize, mapping(Dress::getSize, toList())))));<br/>		// Counting works too<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, groupingBy(Dress::getSize, counting()))));<br/>		// Summation of price for each colored dress<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, summingInt(Dress::getPrice))));<br/>		// Summarize attributes for each colored dress<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, summarizingInt(Dress::getPrice))));<br/>		// find maximum priced dress in each color, but below gives optional<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor, maxBy(Comparator.comparing(Dress::getPrice)))));<br/>		// As above we will get Optional value, lets try to get actual values<br/>		// ****************collectingAndThen*****************<br/>		// is used to wrap another collector and apply transformation function to its<br/>		// result as below Optional::get is the transformation function<br/>		System.out.println(dresses.stream()<br/>				.collect(groupingBy(Dress::getColor,<br/>						collectingAndThen(maxBy(Comparator.comparing(Dress::getPrice)), Optional::get))));<br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// Word Count Without Split
<div><br/>public class WordCountMap {<br/>	public static void main(String[] args) {<br/>		String x = "the best of the best of the best of the";<br/>		System.out.println(Pattern.compile("\\s")<br/>				.splitAsStream(x)<br/>				.filter(e -> e.equals("two"))<br/>				.findFirst()<br/>				.orElse("nothing"));<br/>		System.out.println(Pattern.compile("\\s")<br/>				.splitAsStream(x)<br/>				.parallel()<br/>				.collect(groupingBy(String::toString, counting())));<br/>		<br/>		//BTW string.split is faster if the delimiter is a simple character<br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// Stream Map collect to List
<div><br/>public class Joining_list {<br/>	<br/>	public static void main(String[] args) {<br/>		<br/>		List<Integer> list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);<br/>		String s = list<br/>					   .stream()<br/>					   .map(Object::toString)<br/>					   .collect(Collectors.joining("?"));<br/>		System.out.println(s);<br/>		<br/>		 File dir = new File("C:");<br/>		    <br/>		    File[] children = dir.listFiles();<br/>		    System.out.println(<br/>		    	      Stream.of(children)<br/>		    	            .map(File::getName)<br/>		    	            .collect(Collectors.joining(", ")));<br/>		    <br/>		    //Do null check before start<br/>/*		    return Optional.ofNullable(userList)<br/>	                .orElseGet(Collections::emptyList)<br/>	                .stream()<br/>	                .map(user -> user.getName())<br/>	                .collect(Collectors.toList());*/	  <br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// IntStream with Range
<div><br/>public class Order {<br/>private String orderNo="dsd";<br/>	<br/>	<br/>public static void main(String[] args) {<br/>	IntStream.of(1, 2, 3); <br/>	IntStream.range(0,10).forEach(System.out::println);<br/>	Stream<Color> stream = IntStream.range(1, 5).mapToObj(i -> new Color(i));<br/>}<br/>@Override<br/>	public int hashCode() {<br/>		// TODO Auto-generated method stub<br/>		return orderNo.length();<br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// Interface Changesin Java 8
<div><br/>// You can Public static methods to Interface.<br/>interface Util {<br/>	  public static int numberOfCores() {<br/>	    return Runtime.getRuntime().availableProcessors();<br/>	  }<br/>	}<br/>	public class Static_Interface_Method {<br/>	  public static void main(String[] args) {<br/>	    System.out.println(Util.numberOfCores());<br/>	  }<br/>	<br/>	}</div></section>
<section onClick="showcontent(this);">/// Java8 String Joining
<div><br/>public class String_Joining {<br/>	  public static void main(String[] args) throws IOException {<br/>	    File dir = new File("C:");<br/>	    <br/>	    File[] children = dir.listFiles();<br/>   <br/>	    System.out.println(<br/>	      Stream.of(children)<br/>	            .map(File::getName)<br/>	            .collect(Collectors.joining(", ")));<br/>	  }<br/>}</div></section>
<section onClick="showcontent(this);">/// Java 8 Optional with example
<div><br/>public class Features {<br/>	<br/>	public static void main(String[] args) {<br/>		Function<String, String> getSecondWord<br/>		= (String s) -> {return s.split(" ").length > 1 ? s.split(" ")[1]:null;};<br/>		<br/>		Function<String, Integer> getcount = t->t.length();<br/>		<br/>		int ch = getSecondWord<br/>				.andThen(getcount)<br/>				.apply("more");<br/>		<br/>		//getSecondWord.apply("Asim Arunava");<br/>		//System.out.println(getSecondWord.compose(before));<br/>	}<br/>}</div></section>
<section onClick="showcontent(this);">/// Java 8 List with doing various stuff
<div><br/>public class ListRevisit {<br/>private static List<Integer> num = Arrays.asList(1,2,3,4);<br/>	public static void main(String[] args) {<br/>		<br/>		//replacing traditional for loops<br/>		IntStream.of(1,2,3).forEach(System.out::println);//1 2 3<br/>		<br/>		IntStream.range(1, 3).forEach(System.out::println);//1 2<br/>		<br/>		IntStream.rangeClosed(1, 3).forEach(System.out::println);//1 2 3<br/>		<br/>		//What if we just want every even number?<br/>		IntStream.iterate(0, i -> i + 2).limit(3).forEach(System.out::println); //0 2 4<br/>		<br/>		<br/>		IntStream.generate(() -> ThreadLocalRandom.current().nextInt(10)).limit(3).forEach(System.out::println); // <br/>		// > 4, 1, 7<br/>		<br/>		Stream.iterate(10, e->e+1).filter(e->e%2==0).mapToDouble(Math::sqrt).limit(100).sum();<br/>		<br/>		<br/>		<br/>		<br/>		num.stream()<br/>			.filter(ListRevisit::check)<br/>			.map(Color::new);<br/>		<br/>		Supplier<Order> orderSupplier = Order::new;<br/>		System.out.println(orderSupplier.get());<br/>	}<br/>	<br/>	<br/>	public static Boolean check(int i)<br/>	{<br/>		if(i>5)<br/>		return true;<br/>		else<br/>		return false;<br/>	}<br/>	<br/>	<br/>	<br/>	<br/>}</div></section>
<section onClick="showcontent(this);">/// Design Singleton using Lambda
<div><br/>public class Singleton_java8 {<br/>public static void main(String[] args) {<br/>		Resource.use(e->e.op1());<br/>	}<br/>}<br/>//Creating Singleton Using Lambda<br/>class Resource{<br/>	<br/>	private Resource() {System.out.println("Created....");}<br/>		public Resource op1(){System.out.println("op1"); return this;}<br/>		public Resource op2(){System.out.println("op2"); return this;}<br/>		public static void use(Consumer<Resource> block){<br/>			Resource reource = new Resource();<br/>			block.accept(reource);<br/>		}<br/>	}</div></section>
<section onClick="showcontent(this);">/// Its a ENUM skip it
<div><br/>public enum Gender { MALE, FEMALE }</div></section>
<section onClick="showcontent(this);">/// Its Pojo Class Skip it
<div><br/>public class Person {<br/>  private final String name;<br/>  private final Gender gender;<br/>  private final int age;<br/>  <br/>  public Person(String theName, Gender theGender, int theAge) {<br/>    name = theName;<br/>    gender = theGender;<br/>    age = theAge;<br/>  }<br/>  <br/>  public String getName() { <br/>    return name; <br/>  }<br/>  public int getAge() {<br/>    return age; <br/>  }<br/>  public Gender getGender() { return gender; }<br/>  <br/>  public String toString() {<br/>    return String.format("%s -- %s -- %d", name, gender, age);<br/>  }  <br/>}</div></section>
<section onClick="showcontent(this);">/// java8 Comapring and Then Comparing
<div><br/>public class Sample {<br/>  public static List<Person> createPeople() {<br/>    return Arrays.asList(<br/>	    new Person("Sara", Gender.FEMALE, 20),<br/>	    new Person("Sara", Gender.FEMALE, 22),<br/>	    new Person("Bob", Gender.MALE, 20),<br/>	    new Person("Paula", Gender.FEMALE, 32),<br/>	    new Person("Paul", Gender.MALE, 32),<br/>	    new Person("Jack", Gender.MALE, 2),<br/>	    new Person("Jack", Gender.MALE, 72),<br/>	    new Person("Jill", Gender.FEMALE, 12)<br/>	  );<br/>  }<br/>  public static void printSorted(List<Person> people, Comparator<Person> comparator) {<br/>    System.out.println("----------");<br/>    people.stream()<br/>          .sorted(comparator)<br/>          .forEach(System.out::println);<br/>  }<br/>  <br/>  public static void main(String[] args) {<br/>    List<Person> people = createPeople();<br/>    <br/>    printSorted(people, comparing(Person::getName));<br/>    printSorted(people, comparing(Person::getAge));<br/>    printSorted(people, comparing(Person::getAge).thenComparing(Person::getName));<br/>    printSorted(people, comparingInt(Person::getAge).thenComparing(Person::getName));<br/>  }<br/>}</div></section>
<section onClick="showcontent(this);">/// Java 8 List Sorting
<div><br/>public class SortListElelments {<br/>	public static void main(String[] args) {<br/>		// TODO Auto-generated method stub<br/>		List<Integer> mylist = Arrays.asList(10,6,87,5,90,0,22,50);<br/>	<br/>		       Comparator<String> cmpStringLength = Comparator.comparingInt(String::length)<br/>		                  .thenComparing(String.CASE_INSENSITIVE_ORDER);<br/>		       <br/>		       Comparator<Integer> cmpIntValue = Comparator.comparingInt(Integer::intValue);<br/>		       mylist.sort(cmpIntValue);<br/>		       System.out.println(mylist);<br/>		       <br/>		      }<br/>	}</div></section>
